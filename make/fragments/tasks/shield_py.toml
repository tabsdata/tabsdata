#
# Copyright 2025 Tabs Data Inc.
#

[tasks.deny_py]
category = "07 - Shield"
description = "Task 'deny' for Python projects"

[tasks.audit_py]
category = "07 - Shield"
description = "Task 'audit' for Python projects"
cwd = "${PROJECT_TABSDATA_ROOT_FOLDER}"
script_runner = "@duckscript"
script = [
    '''
    !include_files ./make/libraries/log.ds

    debug "ðŸš€ pip-audit --progress-spinner on --strict --requirement requirements/requirements-third-party-all.txt --ignore-vuln PYSEC-2022-42969"
    exec --fail-on-error pip-audit --progress-spinner on --strict --requirement requirements/requirements-third-party-all.txt --ignore-vuln PYSEC-2022-42969

    debug "ðŸš€ pip-audit --progress-spinner on --strict --requirement requirements/requirements-dev-third-party.txt --ignore-vuln PYSEC-2022-42969"
    exec --fail-on-error pip-audit --progress-spinner on --strict --requirement requirements/requirements-dev-third-party.txt --ignore-vuln PYSEC-2022-42969
    ''']

[tasks.pants_py]
category = "07 - Shield"
description = "Task 'pants' for Python projects"